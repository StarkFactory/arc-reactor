# v3.9.3 릴리즈 노트

일자: 2026-02-18

## 주요 변경

- 에이전트 실행 컨텍스트 구성을 책임 단위로 리팩터링했습니다.
  - `runId`/MDC/hook context 설정/해제를 `AgentRunContextManager`로 통합했습니다.
- 출력 경계 정책 처리 로직을 `OutputBoundaryEnforcer`로 분리했습니다.
  - `ExecutionResultFinalizer`는 orchestration에 집중하도록 단순화했습니다.
- 스트리밍 preflight reject 메트릭의 오류 코드 기록을 보강했습니다.
  - Guard reject: `GUARD_REJECTED`
  - Hook reject: `HOOK_REJECTED`
  - 스트리밍에서 구조화 출력 요청 reject: `INVALID_RESPONSE`
- 경계 처리/컨텍스트 유틸과 스트리밍 메트릭에 대한 회귀 테스트를 추가했습니다.

## 운영 영향

- Executor/Finalizer 경로의 유지보수성과 확장성이 향상되었습니다.
- 스트리밍 실패 분석 지표가 non-streaming 분류와 일관되게 기록됩니다.

## 업그레이드 메모

- 프로젝트 버전은 `3.9.3`입니다.
- 병합 후 `v3.9.3` 태그를 푸시하면 릴리즈 자동화가 동작합니다.
