# v4.7.2

Release date: 2026-03-01

## Highlights

- **Tool callback collision safety**:
  - Added callback name deduplication in `ToolPreparationPlanner` before tool selection/wrapping.
  - Added MCP callback deduplication across servers in `DefaultMcpManager` with deterministic keep rules.
  - Added regression tests for both planner-level and MCP-level callback dedup behavior.
- **Slack architecture clarity**:
  - Aligned docs and prompts to reflect registered tools (MCP and/or local tools), with built-in `arc-slack` local tools preferred for Slack delivery.
  - Removed stale Slack-MCP phrasing from runtime validation script and documentation.
- **Documentation correctness**:
  - Updated architecture/reference docs to describe actual dedup semantics and ordering.
  - Fixed stale RAG example ingestion endpoint and payload shape (`/api/documents` with `metadata.source`).

## Compatibility and Migration

- No API path changes.
- No required configuration migrations.
- Existing MCP server registration flow remains unchanged (`POST /api/mcp/servers`).

## Operational Notes

- Version bumped to `4.7.2`.
- Tag `v4.7.2` triggers GitHub Release and Docker publication workflows.
