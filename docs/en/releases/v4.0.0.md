# v4.0.0

Release date: 2026-02-21

> Superseded by [v4.0.1](v4.0.1.md) for release-pipeline reliability fixes.

## Highlights

- Established explicit fork responsibility boundaries (upstream vs downstream operations).
- Added API version contract guard (`X-Arc-Api-Version`) and response version headers.
- Hardened release trust chain:
  - SBOM (CycloneDX)
  - checksums (SHA256)
  - keyless signing (Cosign)
  - provenance attestation
- Hardened release and CI quality gates:
  - release security gate (Gitleaks + Trivy) blocks tag publication on failure
  - default config/document alignment check promoted to required CI guard
- Reduced executor complexity with focused runtime components:
  - `StreamingExecutionCoordinator`
  - `AgentExecutionCoordinator`
  - `StreamingFlowLifecycleCoordinator`
  - `AgentExecutionFailureHandler`
- Added Kubernetes deployment reference manifests and cost-aware benchmarking guidance.

## Compatibility and Migration

- API path migration is **not required**. REST APIs remain on existing `/api/**` paths.
- API versioning remains header-based and optional:
  - request: `X-Arc-Api-Version` (default `v1`)
  - response: `X-Arc-Api-Version`, `X-Arc-Api-Supported-Versions`
- Existing runtime configs continue to work; security and release gates are stricter by default.

## Operational Notes

- Downstream forks should verify release workflow permissions for:
  - OIDC-based signing/attestation
  - security scanning policies (Gitleaks/Trivy)
- Before publishing a tag release, run:
  - `./gradlew test`
  - `bash scripts/dev/check-docs.sh`
